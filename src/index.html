<!doctype html>
  <html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
      <script src="node_modules/xterm/lib/xterm.js"></script>
      <script src="node_modules/xterm-addon-fit/lib/xterm-addon-fit.js" ></script>
      <link href="./src/css/index.css" rel="stylesheet" type="text/css" />    </head>
    <body>
      <div id="main"> 
      <div id="terminal"></div>
    </div>
      <script>
        
        var term = new Terminal({
        cursorStyle: 'underline', //光标样式
        cursorBlink: true, // 光标闪烁
        convertEol: true, //启用时，光标将设置为下一行的开头
        disableStdin: false, //是否应禁用输入。
        theme: {
            foreground: 'yellow', //字体
            background: '#060101', //背景色
            cursor: 'help',//设置光标
        }
    
        });

        
          function runFakeTerminal() {
        if (term._initialized) {
            return;
        }

        term._initialized = true;

        term.prompt = () => {
            
            term.write('\r\n~$ ');
        };
        term.write('_|      _|  _|_|_|_|  ')
        term.write('\n')
        term.write('  _|  _|    _|        ')
        term.write('\n')
        term.write('    _|      _|_|_|    ')
        term.write('\n')
        term.write('  _|  _|    _|        ')
        term.write('\n')
        term.write('_|      _|  _|_|_|_|  ')
        term.write('\n')
        term.write('')
        term.write('')
        term.write('')
        term.write('\n')
        term.writeln('Welcome to \x1B[1;3;31mSequnceE\x1B[0m');
        prompt(term);

        term.onKey(e => {
            const printable = !e.domEvent.altKey && !e.domEvent.altGraphKey && !e.domEvent.ctrlKey && !e.domEvent.metaKey;

        // enter key
        if (e.domEvent.keyCode === 13) {
            prompt(term);
        } else if (e.domEvent.keyCode === 8) { // BackSpace key
            
            if (term._core.buffer.x > 2) {
                term.write('\b \b');
               
            }
        } else if (printable) {
            term.write(e.key);
            
        }
        console.log(e.key);
    });
    }

    function prompt(term) {
        term.write('\r\n~$ ');
    }
    runFakeTerminal();
        term.open(document.getElementById('terminal'));
         
        // term.write('Hello from \x1B[1;3;31mxterm.js\x1B[0m $ ')
      </script>
    </body>
  </html>
